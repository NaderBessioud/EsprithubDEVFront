<div class="contianer" *ngIf="user ==null">
  <h1 style="text-align: center;">loading . ..</h1>
</div>


<div class="container">
  <div class="row gutters">
    <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
      <div class="card h-100">
        <div class="card-body" >
          <div class="account-settings" >
            <div class="user-profile">
              <div class="user-avatar" >


                <div class="user-setting-wrapper mt-10">
                  <div class="photo-wrapper">
                    <div class="preview">
                      <img [src]="dbImage" alt="">
                      <div class="upload-btn" style="background-color: transparent">
                      <button style="border-radius: 20%;background-color: transparent">  <img src="../../../assets/img/img-upload.png" style="width: 20px;height: 20px;" ></button>
                        <input type="file"  accept=".png,.jpg,.jpeg" style="background-image: url('../../../assets/img/img-upload.png')"  (change)="onimageChanged($event)"/>
                      </div>
                    </div>


                  </div>
                </div>

              </div>
              <h5 class="user-name">{{user.firstName}} {{user.lastName}} </h5>
              <h6 class="user-email">{{user.email}}</h6>
            </div>
            <div class="about" *ngIf="user.aboutMe != null">
              <h5>About</h5>
              <p>{{user.aboutMe}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
      <div class="card h-100">
        <div class="card-body">
          <div class="row gutters">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
              <h6 class="mb-2 text-primary">Personal Details</h6>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="fullName">First Name</label>
                <input type="text" class="form-control" id="fullName" placeholder="Enter first name" [(ngModel)]="user.firstName" name="firstName">
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="eMail">Last Name</label>
                <input type="text" class="form-control" id="eMail" placeholder="Enter Last Name" [(ngModel)]="user.lastName" name="lastName">
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="em">Email</label>
                <input type="email" class="form-control" id="em" placeholder="Enter Email" [(ngModel)]="user.email" name="email">
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" class="form-control" id="phone" placeholder="Enter phone number" [(ngModel)]="user.phone" name="phone">
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="website">Address</label>
                <input type="text" class="form-control" id="website" placeholder="Enter address" [(ngModel)]="user.address" name="address">
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="gender">Gender</label>
                <select [(ngModel)]="user.gender" name="gender" id="gender" class="form-control">
                  <option value="male">male</option>
                  <option value="female">female</option>
                </select>              </div>
            </div>

            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="niveau">Level</label>
                <select [(ngModel)]="user.niveau" name="niveau" id="niveau" class="form-control">
                  <option value="premiere">premiere</option>
                  <option value="deuxieme">deuxieme</option>
                  <option value="troisieme">troisieme</option>
                  <option value="quatrieme">quatrieme</option>
                  <option value="cinquieme">cinquieme</option>

                </select>              </div>
            </div>

            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="option">Option</label>
                <select id="option"  name="option" class="form-control" (change)="getoption($event)">
                  <option *ngFor="let u of options" value="{{u.idOption}}"  >{{u.libelle}}</option>
                </select>              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="about">About </label>
                <textarea type="text" class="form-control"  id="about"  [(ngModel)]="user.aboutMe" value={{user.aboutMe}}>

                </textarea>

              </div>
            </div>

            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="role">Role </label>
                <span style="cursor: pointer;"   data-toggle="modal" (click)="primaryModal.show()"  >
              <i class="icon-info"></i></span> <br>


                <input type="text" class="form-control" id="role"   disabled [(ngModel)]="user.role" value={{user.role}}>
              </div>
            </div>
          </div>
          <div class="mt-5 text-right" style="margin-top: -80px"><button class="btn btn-primary profile-button"   (click)="updateprofil()" type="button">Update</button></div>

          <div class="row gutters">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
              <h6 class="mt-3 mb-2 text-primary"> Chane your Password</h6>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="opass">Old password</label>
                <input type="password" placeholder="Type Old password" id="opass" required class="form-control"   [(ngModel)]="oldpassword" >
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="npass">New Password</label>
                <input type="password" placeholder="Type new password" id="npass"  required class="form-control"  [(ngModel)]="newPassword" >
              </div>
            </div>
          </div>
          <div class="row gutters">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
              <div class="text-right">
                <button type="button" id="submit" name="submit" class="btn btn-secondary">Cancel</button>
                <button type="button" id="submit" name="submit" class="btn btn-primary" (click)="changepassword()">Update Password</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



  <div bsModal #primaryModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-primary" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Role Change</h4>
          <button type="button" class="close" (click)="primaryModal.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>To change your role to teacher please send us an email at <strong>EspritHub99@gmail.com </strong>with your teacher card</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="primaryModal.hide()">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
